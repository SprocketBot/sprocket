import {z} from "zod";

export const BallchasingPlayerStatsSchema = z.object({
    core: z.object({
        mvp: z.boolean(),
        goals: z.number(),
        saves: z.number(),
        score: z.number(),
        shots: z.number(),
        assists: z.number(),
        goals_against: z.number(),
        shots_against: z.number(),
        shooting_percentage: z.number(),
    }),
    demo: z.object({
        taken: z.number(),
        inflicted: z.number(),
    }),
    boost: z.object({
        bpm: z.number(),
        bcpm: z.number(),
        avg_amount: z.number(),
        amount_stolen: z.number(),
        amount_overfill: z.number(),
        time_boost_0_25: z.number(),
        time_full_boost: z.number(),
        time_zero_boost: z.number(),
        amount_collected: z.number(),
        count_stolen_big: z.number(),
        time_boost_25_50: z.number(),
        time_boost_50_75: z.number(),
        amount_stolen_big: z.number(),
        time_boost_75_100: z.number(),
        count_stolen_small: z.number(),
        percent_boost_0_25: z.number(),
        percent_full_boost: z.number(),
        percent_zero_boost: z.number(),
        amount_stolen_small: z.number(),
        count_collected_big: z.number(),
        percent_boost_25_50: z.number(),
        percent_boost_50_75: z.number(),
        amount_collected_big: z.number(),
        percent_boost_75_100: z.number(),
        count_collected_small: z.number(),
        amount_collected_small: z.number(),
        amount_overfill_stolen: z.number(),
        amount_used_while_supersonic: z.number(),
    }),
    movement: z.object({
        avg_speed: z.number(),
        time_ground: z.number(),
        time_low_air: z.number(),
        time_high_air: z.number(),
        percent_ground: z.number(),
        total_distance: z.number(),
        percent_low_air: z.number(),
        time_powerslide: z.number(),
        time_slow_speed: z.number(),
        count_powerslide: z.number(),
        percent_high_air: z.number(),
        time_boost_speed: z.number(),
        percent_slow_speed: z.number(),
        percent_boost_speed: z.number(),
        avg_speed_percentage: z.number(),
        time_supersonic_speed: z.number(),
        avg_powerslide_duration: z.number(),
        percent_supersonic_speed: z.number(),
    }),
    positioning: z.object({
        time_most_back: z.number(),
        time_behind_ball: z.number(),
        percent_most_back: z.number(),
        time_infront_ball: z.number(),
        time_most_forward: z.number(),
        time_neutral_third: z.number(),
        percent_behind_ball: z.number(),
        time_defensive_half: z.number(),
        time_offensive_half: z.number(),
        avg_distance_to_ball: z.number(),
        percent_infront_ball: z.number(),
        percent_most_forward: z.number(),
        time_closest_to_ball: z.number(),
        time_defensive_third: z.number(),
        time_offensive_third: z.number(),
        avg_distance_to_mates: z.number(),
        percent_neutral_third: z.number(),
        percent_defensive_half: z.number(),
        percent_offensive_half: z.number(),
        percent_closest_to_ball: z.number(),
        percent_defensive_third: z.number(),
        percent_offensive_third: z.number(),
        time_farthest_from_ball: z.number(),
        percent_farthest_from_ball: z.number(),
        avg_distance_to_ball_possession: z.number(),
        goals_against_while_last_defender: z.number(),
        avg_distance_to_ball_no_possession: z.number(),
    }),
});
export type BallchasingPlayerStates = z.infer<typeof BallchasingPlayerStatsSchema>;

export const BallchasingPlayerSchema = z.object({
    id: z.object({
        id: z.string(),
        platform: z.string(), // TODO enum
    }),
    name: z.string(),
    camera: z.object({
        fov: z.number(),
        pitch: z.number(),
        height: z.number(),
        distance: z.number(),
        stiffness: z.number(),
        swivel_speed: z.number(),
        transition_speed: z.number(),
    }),
    car_id: z.number(),
    car_name: z.string(),
    end_time: z.number(),
    start_time: z.number(),
    steering_sensitivity: z.number(),

    stats: BallchasingPlayerStatsSchema,
});
export type BallchasingPlayer = z.infer<typeof BallchasingPlayerSchema>;
